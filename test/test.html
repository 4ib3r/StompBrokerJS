<html>
<head>
    <script type="application/javascript" src="../node_modules/stompjs/lib/stomp.js"></script>
    <script type="application/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="http://cdn.sockjs.org/sockjs-0.3.min.js"></script>
</head>
<body>
<pre id="test">

</pre>
<input type="text" id="sender"/><button onclick="send()">Send</button>
<script type="application/javascript">
 // var ws = new SockJS(url);
//var client = Stomp.over(ws);
  var client = Stomp.client('ws://localhost:61614/stomp');
 var headers = {
   login: 'mylogin',
   passcode: 'mypasscode',
   // additional header
   'client-id': 'webClient'
 };
  client.connect(headers, function (error) {
   // display the error's message header:
   if (error.command == "ERROR") {
     console.error(error.headers.message);
   } else {
     console.log("Connected");
     client.subscribe("/test", function(msg) {
       console.log("Received", msg);
     });
   }
 });
    $(function() {
      $("#test").html("Hello\n");

      client.debug = function(data) {
        $("#test").append(data+"\n");
      };
    })
 function send() {
      client.send("/test", {}, $("#sender").val());
 }
</script>
</body>
</html>